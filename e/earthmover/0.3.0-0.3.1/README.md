# Comparing `tmp/earthmover-0.3.0-py3-none-any.whl.zip` & `tmp/earthmover-0.3.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,12 +1,12 @@
-Zip file size: 75380 bytes, number of entries: 50
--rwxrwxrwx  2.0 unx        6 b- defN 24-Apr-17 15:36 earthmover/VERSION.txt
+Zip file size: 75491 bytes, number of entries: 50
+-rwxrwxrwx  2.0 unx        6 b- defN 24-Apr-26 15:33 earthmover/VERSION.txt
 -rw-r--r--  2.0 unx        1 b- defN 24-Apr-17 15:36 earthmover/__init__.py
 -rw-r--r--  2.0 unx     7240 b- defN 24-Apr-17 15:36 earthmover/__main__.py
--rw-r--r--  2.0 unx    23542 b- defN 24-Apr-17 15:57 earthmover/earthmover.py
+-rw-r--r--  2.0 unx    23656 b- defN 24-Apr-26 15:33 earthmover/earthmover.py
 -rw-r--r--  2.0 unx     2967 b- defN 24-Apr-17 15:36 earthmover/error_handler.py
 -rw-r--r--  2.0 unx     9147 b- defN 24-Apr-17 15:36 earthmover/graph.py
 -rw-r--r--  2.0 unx     7730 b- defN 24-Apr-17 15:36 earthmover/package.py
 -rw-r--r--  2.0 unx     8146 b- defN 24-Apr-17 15:36 earthmover/runs_file.py
 -rw-r--r--  2.0 unx     3823 b- defN 24-Apr-17 15:36 earthmover/util.py
 -rw-r--r--  2.0 unx     7052 b- defN 24-Apr-17 15:36 earthmover/yaml_parser.py
 -rw-r--r--  2.0 unx        0 b- defN 22-Sep-15 19:41 earthmover/nodes/__init__.py
@@ -23,30 +23,30 @@
 -rwxrwxrwx  2.0 unx     6876 b- defN 23-Oct-16 12:59 earthmover/tests/earthmover.yaml
 -rwxrwxrwx  2.0 unx     7571 b- defN 22-Sep-16 13:53 earthmover/tests/expected/animals.jsonl
 -rwxrwxrwx  2.0 unx      434 b- defN 22-Sep-16 13:32 earthmover/tests/expected/big_cats.jsonl
 -rwxrwxrwx  2.0 unx      405 b- defN 24-Apr-09 19:26 earthmover/tests/expected/species_count_by_zoo.jsonl
 -rwxrwxrwx  2.0 unx      821 b- defN 22-Sep-16 13:35 earthmover/tests/expected/total_of_each_species.jsonl
 -rwxrwxrwx  2.0 unx      797 b- defN 22-Sep-16 13:32 earthmover/tests/expected/zoo_count_by_species.jsonl
 -rwxrwxrwx  2.0 unx      280 b- defN 22-Sep-16 13:32 earthmover/tests/expected/zoo_count_by_year_founded.jsonl
--rwxrwxrwx  2.0 unx     7571 b- defN 24-Apr-10 21:32 earthmover/tests/outputs/animals.jsonl
--rwxrwxrwx  2.0 unx      434 b- defN 24-Apr-10 21:32 earthmover/tests/outputs/big_cats.jsonl
--rwxrwxrwx  2.0 unx      405 b- defN 24-Apr-10 21:32 earthmover/tests/outputs/species_count_by_zoo.jsonl
--rwxrwxrwx  2.0 unx      821 b- defN 24-Apr-10 21:32 earthmover/tests/outputs/total_of_each_species.jsonl
--rwxrwxrwx  2.0 unx      797 b- defN 24-Apr-10 21:32 earthmover/tests/outputs/zoo_count_by_species.jsonl
--rwxrwxrwx  2.0 unx      280 b- defN 24-Apr-10 21:32 earthmover/tests/outputs/zoo_count_by_year_founded.jsonl
+-rwxrwxrwx  2.0 unx     7571 b- defN 24-Apr-26 15:34 earthmover/tests/outputs/animals.jsonl
+-rwxrwxrwx  2.0 unx      434 b- defN 24-Apr-26 15:34 earthmover/tests/outputs/big_cats.jsonl
+-rwxrwxrwx  2.0 unx      405 b- defN 24-Apr-26 15:34 earthmover/tests/outputs/species_count_by_zoo.jsonl
+-rwxrwxrwx  2.0 unx      821 b- defN 24-Apr-26 15:34 earthmover/tests/outputs/total_of_each_species.jsonl
+-rwxrwxrwx  2.0 unx      797 b- defN 24-Apr-26 15:34 earthmover/tests/outputs/zoo_count_by_species.jsonl
+-rwxrwxrwx  2.0 unx      280 b- defN 24-Apr-26 15:34 earthmover/tests/outputs/zoo_count_by_year_founded.jsonl
 -rwxrwxrwx  2.0 unx      712 b- defN 22-Sep-16 15:38 earthmover/tests/sources/birds.csv
 -rwxrwxrwx  2.0 unx      422 b- defN 22-May-24 21:36 earthmover/tests/sources/fishes.csv
 -rwxrwxrwx  2.0 unx      156 b- defN 22-May-24 21:14 earthmover/tests/sources/inventories.csv
 -rwxrwxrwx  2.0 unx      926 b- defN 23-Oct-16 12:59 earthmover/tests/sources/mammals.csv
 -rwxrwxrwx  2.0 unx      478 b- defN 22-May-24 21:06 earthmover/tests/sources/reptiles.csv
 -rwxrwxrwx  2.0 unx      282 b- defN 24-Apr-09 19:26 earthmover/tests/sources/zoos.csv
 -rwxrwxrwx  2.0 unx      215 b- defN 22-Jul-14 20:55 earthmover/tests/templates/animal.jsont
 -rwxrwxrwx  2.0 unx      184 b- defN 22-May-24 21:33 earthmover/tests/templates/cats.jsont
 -rwxrwxrwx  2.0 unx       93 b- defN 22-Jun-20 13:40 earthmover/tests/templates/count.jsont
--rwxrwxrwx  2.0 unx    11349 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/LICENSE
--rw-r--r--  2.0 unx    52415 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/WHEEL
--rwxrwxrwx  2.0 unx      154 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/dependency_links.txt
--rwxrwxrwx  2.0 unx       56 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/entry_points.txt
--rwxrwxrwx  2.0 unx       11 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4525 b- defN 24-Apr-17 16:01 earthmover-0.3.0.dist-info/RECORD
-50 files, 233360 bytes uncompressed, 68032 bytes compressed:  70.8%
+-rwxrwxrwx  2.0 unx    11349 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx    52666 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/WHEEL
+-rwxrwxrwx  2.0 unx      154 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/dependency_links.txt
+-rwxrwxrwx  2.0 unx       56 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/entry_points.txt
+-rwxrwxrwx  2.0 unx       11 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     4525 b- defN 24-Apr-26 15:38 earthmover-0.3.1.dist-info/RECORD
+50 files, 233725 bytes uncompressed, 68143 bytes compressed:  70.8%
```

## zipnote {}

```diff
@@ -123,29 +123,29 @@
 
 Filename: earthmover/tests/templates/cats.jsont
 Comment: 
 
 Filename: earthmover/tests/templates/count.jsont
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/LICENSE
+Filename: earthmover-0.3.1.dist-info/LICENSE
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/METADATA
+Filename: earthmover-0.3.1.dist-info/METADATA
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/WHEEL
+Filename: earthmover-0.3.1.dist-info/WHEEL
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/dependency_links.txt
+Filename: earthmover-0.3.1.dist-info/dependency_links.txt
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/entry_points.txt
+Filename: earthmover-0.3.1.dist-info/entry_points.txt
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/top_level.txt
+Filename: earthmover-0.3.1.dist-info/top_level.txt
 Comment: 
 
-Filename: earthmover-0.3.0.dist-info/RECORD
+Filename: earthmover-0.3.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## earthmover/VERSION.txt

```diff
@@ -1 +1 @@
-0.3.0
+0.3.1
```

## earthmover/earthmover.py

```diff
@@ -170,20 +170,22 @@
 
     def compile_node_configs(self, node_configs: 'YamlMapping', node_class: 'Node') -> List['Node']:
         """
         Helper method to keep code DRY, yet flexible to new node types.
         """
         compiled_nodes = []
 
+        # Complete first pass to add nodes to graph.
         for name, config in node_configs.items():
             node = node_class(name, config, earthmover=self)
             compiled_nodes.append(node)
-
-            # Add the node and any source edges to the graph.
             self.graph.add_node(node.full_name, data=node)
+        
+        # Complete second pass to add edges between nodes.
+        for node in compiled_nodes:
             for source in node.upstream_sources:
                 try:
                     self.graph.add_edge(source, node.full_name)
                     node.set_upstream_source(source, self.graph.ref(source))
                 except KeyError:
                     self.error_handler.throw(f"invalid source {source}")
 
@@ -421,14 +423,15 @@
         ### Process the config_file and prepare to extract the packages.
         self.user_configs = JinjaEnvironmentYamlLoader.load_config_file(self.config_file, params=self.params, macros=self.macros)
         self.package_graph = self.build_root_package_graph(self.user_configs)
 
         # Check that at least one package is defined
         if all(False for _ in self.package_graph.successors('root')):
             self.logger.warning("No packages have been defined!")
+            exit(1)
 
         # Install each package (and any nested sub-packages) into the packages directory
         self.build_package_graph(root_node='root', package_subgraph=self.package_graph, packages_dir=self.packages_dir, install=True)
 
 
     def merge_packages(self) -> Optional['YamlMapping']:
         """
```

## Comparing `earthmover-0.3.0.dist-info/LICENSE` & `earthmover-0.3.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `earthmover-0.3.0.dist-info/METADATA` & `earthmover-0.3.1.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: earthmover
-Version: 0.3.0
+Version: 0.3.1
 Summary: Transforms tabular data sources into text-based data via YAML configuration
 Home-page: https://github.com/edanalytics/earthmover
 Download-URL: https://github.com/edanalytics/earthmover/archive/refs/tags/v0.0.4.tar.gz
 Author: Tom Reitz, Jay Kaiser
 Author-email: treitz@edanalytics.org, jkaiser@edanalytics.org
 License: Apache 2.0
 Classifier: Development Status :: 4 - Beta
@@ -934,14 +934,16 @@
 1. Extract only the [`config` section](#config) (if any), in order to make available any `macros` when parsing the rest of the Jinja + YAML. The `config` section *only* **may not contain any Jinja** (besides `macros`).
 1. Load the entire Jinja + YAML as a string and hydrate all [environment variable](#environment-variable-references) or [parameter](#command-line-parameters) references.
 1. Parse the hydrated Jinja + YAML string with any `macros` to plain YAML.
 1. Load the plain YAML string as a nested dictionary and begin building and processing the [DAG](#dag).
 
 Note that due to step (3) above, *runtime* Jinja expressions (such as column definitions for `add_columns` or `modify_columns` operations) should be wrapped with `{%raw%}...{%endraw%}` to avoid being parsed when the YAML is being loaded.
 
+The parsed YAML is written to a file called `earthmover_compiled.yaml` in your working directory during a `compile` or `run` command. This file can be used to debug issues related to compile-time Jinja or [project composition](#project-composition).
+
 
 ## DAG
 The mapping of sources through transformations to destinations is modeled as a directed acyclic graph ([DAG](https://en.wikipedia.org/wiki/Directed_acyclic_graph)). Each [component](https://en.wikipedia.org/wiki/Component_(graph_theory)) of the DAG is run separately.
 
 ![dataflow graph components](https://raw.githubusercontent.com/edanalytics/earthmover/main/images/dataflow-graph-components.gif)
 
 Each component is materialized in [topological order](https://en.wikipedia.org/wiki/Topological_sorting). This minimizes memory usage, as only the data from the current and previous layer must be retained in memory.
```

## Comparing `earthmover-0.3.0.dist-info/RECORD` & `earthmover-0.3.1.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,11 +1,11 @@
-earthmover/VERSION.txt,sha256=2RXMldbKj0euKXcT7UbU5cXZnd0p_Dxh4mO98wXytbA,6
+earthmover/VERSION.txt,sha256=eePyLKN8f99MKa42SNawCMPLZUcmCkU0CSdUcJGdxnQ,6
 earthmover/__init__.py,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
 earthmover/__main__.py,sha256=krVVaH7TdF03D3EYRE37OfTRh5Ari1v-V5WpY-Hj4ws,7240
-earthmover/earthmover.py,sha256=F51zEB51g17RgWY1SEEksUWx0n5RtAUmysNU0w5sS6E,23542
+earthmover/earthmover.py,sha256=K7T54o63hSLUHtyS0jPaNlueQI8kOrju18TQmzh93go,23656
 earthmover/error_handler.py,sha256=MeNtUS4aQSid3rk1PHPBLx2UcwCYfSi5aEIvO9ug3Yo,2967
 earthmover/graph.py,sha256=A_967U1uztl-lWpSdNbUB1BnmUTRHZMlD-x4jUmQkro,9147
 earthmover/package.py,sha256=X2dW8Jp8JP3pleh7-ZE3U3QJla0-bkSTOjBSn-jv8DM,7730
 earthmover/runs_file.py,sha256=eXzttonkANjNeSDY6TZEuilWr9lCKwfEBuu9RR_I1Ew,8146
 earthmover/util.py,sha256=oyOpDWadwZb8j1HIfvXK37LGAk3JdipFj4tjKy5iNzo,3823
 earthmover/yaml_parser.py,sha256=QD7_y1PILfAhKaCcm25JYa9W2HW3uE1t0p-0byPK5QE,7052
 earthmover/nodes/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -37,14 +37,14 @@
 earthmover/tests/sources/inventories.csv,sha256=5fERQS45u7YSg0fW35QvnHUbYThwYdWW5KDVQoHHRss,156
 earthmover/tests/sources/mammals.csv,sha256=XQmF6jXpphai3ZymStuStf0k8SDlRnKG4CEh6XjmSdY,926
 earthmover/tests/sources/reptiles.csv,sha256=HE5LXBv2zwfS_Ccbx5UFzG-FGwCUAaHGDUoQ949tAtY,478
 earthmover/tests/sources/zoos.csv,sha256=QLB_NCtmn7Z8TZvl-jhBjQItwSp3uZaXt9kCY70F0_w,282
 earthmover/tests/templates/animal.jsont,sha256=WVANYqoyPAysz2eFjIgftCk9XbN_7bM-Dr1awGSIxwM,215
 earthmover/tests/templates/cats.jsont,sha256=drWhdwDPwv_mDqvYbHJgVRODGkt7iq5yGYQguSmFfTc,184
 earthmover/tests/templates/count.jsont,sha256=CRmgEGZ0PYfyTfT0_bnSZvap9lst8SKUrDBtn51r-fo,93
-earthmover-0.3.0.dist-info/LICENSE,sha256=QoIB1PHNf6dGs6i0VkXumtNelR-vv2rfNMAHMnlaIDw,11349
-earthmover-0.3.0.dist-info/METADATA,sha256=jIXsv8NpoOxXJVVtJMY0cTqmaqE4WboLwA-CZqKseKY,52415
-earthmover-0.3.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-earthmover-0.3.0.dist-info/dependency_links.txt,sha256=KJ0jSjrGk5Js6WaHt_fDxgdxa0gcCffHhKEIB0_Uic4,154
-earthmover-0.3.0.dist-info/entry_points.txt,sha256=3Tx8TE2CCFvNikmltqOCkCLlLmlf3x7P51PxpNrPOOQ,56
-earthmover-0.3.0.dist-info/top_level.txt,sha256=M55nBRq8JtBFEJcnqz1GpG8EtnXFHeWJ38QIFp0N26Q,11
-earthmover-0.3.0.dist-info/RECORD,,
+earthmover-0.3.1.dist-info/LICENSE,sha256=QoIB1PHNf6dGs6i0VkXumtNelR-vv2rfNMAHMnlaIDw,11349
+earthmover-0.3.1.dist-info/METADATA,sha256=6RSgHLqdYeV2jN66LZk2z9d6quhYwDlLoSoYqOUV_zs,52666
+earthmover-0.3.1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+earthmover-0.3.1.dist-info/dependency_links.txt,sha256=KJ0jSjrGk5Js6WaHt_fDxgdxa0gcCffHhKEIB0_Uic4,154
+earthmover-0.3.1.dist-info/entry_points.txt,sha256=3Tx8TE2CCFvNikmltqOCkCLlLmlf3x7P51PxpNrPOOQ,56
+earthmover-0.3.1.dist-info/top_level.txt,sha256=M55nBRq8JtBFEJcnqz1GpG8EtnXFHeWJ38QIFp0N26Q,11
+earthmover-0.3.1.dist-info/RECORD,,
```

